@import "../../assets/styles/variables.css";

.cart-tab-container {
    max-width: 780px;
    margin: 2rem auto;
    padding: 0 1.5rem 3rem;
}

/* ── Empty / Loading / Not-auth ── */
.cart-tab-empty,
.cart-tab-success {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    text-align: center;
    padding: 5rem 1rem;
    color: var(--color-text-secondary, #64748b);
}
.cart-tab-empty svg { color: #cbd5e1; }
.cart-tab-empty h3 { font-size: 1.2rem; font-weight: 700; color: var(--color-text-accent); margin: 0; }
.cart-tab-empty p  { margin: 0; font-size: 0.9rem; }

.cart-tab-loading   { text-align: center; padding: 4rem; color: #94a3b8; }

/* ── Layout ── */
.cart-tab-layout {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.cart-tab-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    border-bottom: 2px solid var(--color-border, #e2e8f0);
    padding-bottom: 1rem;
}
.cart-tab-header h2 {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 800;
    color: var(--color-text-accent);
    display: flex;
    align-items: center;
    gap: 8px;
}
.cart-tab-count {
    margin-right: auto;
    font-size: 0.82rem;
    font-weight: 700;
    color: var(--color-primary);
    background: #eff8ff;
    padding: 3px 10px;
    border-radius: var(--radius-sm);
}

/* ── Items ── */
.cart-tab-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.cart-tab-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--color-bg-main, white);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: var(--radius-card, 16px);
    transition: box-shadow var(--transition-fast);
}
.cart-tab-item:hover { box-shadow: 0 4px 16px rgba(0,0,0,0.06); }

.cart-tab-item-img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: var(--radius-card-sm, 12px);
    flex-shrink: 0;
    background: var(--color-bg-section);
}

.cart-tab-item-info { flex: 1; min-width: 0; }
.cart-tab-item-name {
    margin: 0 0 4px;
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--color-text-accent);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.cart-tab-item-price {
    margin: 0;
    font-size: 0.9rem;
    color: var(--color-text-secondary);
    font-weight: 600;
}
.cart-tab-item-price span { color: #94a3b8; margin-right: 4px; }

.cart-tab-remove-btn {
    width: 36px; height: 36px;
    background: #fff5f5;
    border: 1px solid #fed7d7;
    border-radius: var(--radius-card-sm);
    color: var(--color-error, #ef4444);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; flex-shrink: 0;
    transition: all var(--transition-fast);
}
.cart-tab-remove-btn:hover { background: var(--color-error, #ef4444); color: white; border-color: var(--color-error); }

/* ── Footer ── */
.cart-tab-footer {
    background: var(--color-bg-section, #f8fafc);
    border-radius: var(--radius-card);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.cart-tab-total {
    display: flex;
    justify-content: space-between;
    font-size: 1.1rem;
    font-weight: 800;
    color: var(--color-text-accent);
}
.cart-tab-total strong { color: var(--color-primary); font-size: 1.25rem; }

/* ── Buttons ── */
.cart-tab-btn-primary {
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-btn);
    padding: 0.75rem 1.5rem;
    font-size: 0.95rem;
    font-weight: 800;
    cursor: pointer;
    transition: all var(--transition-fast);
}
.cart-tab-btn-primary:hover { background: var(--color-primary-hover); transform: translateY(-2px); }
.cart-tab-btn-primary.wide { width: 100%; text-align: center; padding: 1rem; }

.cart-tab-btn-outline {
    background: white;
    color: var(--color-primary);
    border: 2px solid var(--color-primary);
    border-radius: var(--radius-btn);
    padding: 0.75rem 1.5rem;
    font-size: 0.95rem;
    font-weight: 800;
    cursor: pointer;
    transition: all var(--transition-fast);
}
.cart-tab-btn-outline:hover { background: var(--color-primary); color: white; }

.cart-tab-btn-confirm {
    background: var(--color-success, #10b981);
    color: white;
    border: none;
    border-radius: var(--radius-btn);
    padding: 1rem;
    width: 100%;
    font-size: 1rem;
    font-weight: 800;
    cursor: pointer;
    transition: all var(--transition-fast);
}
.cart-tab-btn-confirm:hover:not(:disabled) { filter: brightness(1.08); }
.cart-tab-btn-confirm:disabled { opacity: 0.6; cursor: not-allowed; }

.cart-tab-back-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: none;
    border: none;
    color: var(--color-primary);
    font-size: 0.9rem;
    font-weight: 700;
    cursor: pointer;
    padding: 0;
}

/* ── Form ── */
.cart-tab-form {
    display: flex;
    flex-direction: column;
    gap: 1.4rem;
}

.cart-field-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.cart-field-group label {
    font-size: 0.88rem;
    font-weight: 700;
    color: var(--color-text-secondary);
    display: flex;
    align-items: center;
    gap: 6px;
}
.cart-field-group input,
.cart-field-group textarea {
    padding: 0.8rem 1rem;
    border: 1.5px solid var(--color-border, #e2e8f0);
    border-radius: var(--radius-card-sm);
    font-size: 0.9rem;
    outline: none;
    transition: border-color var(--transition-fast);
    font-family: inherit;
    direction: rtl;
    background: var(--color-bg-main, white);
    color: var(--color-text-accent);
}
.cart-field-group input:focus,
.cart-field-group textarea:focus { border-color: var(--color-primary); }
.cart-field-group textarea { resize: vertical; min-height: 90px; }

/* ── Payment opts ── */
.cart-payment-opts {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}
.cart-payment-opt {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.75rem 1rem;
    border: 2px solid var(--color-border);
    border-radius: var(--radius-card-sm);
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text-secondary);
    transition: all var(--transition-fast);
}
.cart-payment-opt.active  { border-color: var(--color-primary); background: #f0f9ff; color: var(--color-primary); }
.cart-payment-opt.disabled{ opacity: 0.45; cursor: not-allowed; }
.cart-payment-opt input[type="radio"] { margin: 0; }

/* ── Order Summary ── */
.cart-order-summary {
    background: var(--color-bg-section);
    border-radius: var(--radius-card-sm);
    padding: 1.2rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.cart-order-summary h4 {
    margin: 0 0 0.6rem;
    font-size: 0.95rem;
    font-weight: 800;
    color: var(--color-text-accent);
}
.cart-summary-row {
    display: flex;
    justify-content: space-between;
    font-size: 0.85rem;
    color: var(--color-text-secondary);
}
.cart-summary-row.total-row {
    border-top: 1px solid var(--color-divider);
    padding-top: 0.6rem;
    margin-top: 0.2rem;
    font-size: 1rem;
    font-weight: 800;
    color: var(--color-text-accent);
}

/* ── Success ── */
.cart-tab-success {
    padding: 5rem 1rem;
}
.success-icon-big { color: var(--color-success, #10b981); }
.cart-tab-success h2 { font-size: 1.4rem; font-weight: 800; color: var(--color-text-accent); margin: 0; }
.cart-tab-success p  { color: var(--color-text-secondary); margin: 0; }
.success-actions {
    display: flex;
    gap: 1rem;
    margin-top: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
}

/* ── Responsive ── */
@media (max-width: 600px) {
    .cart-tab-container { margin: 1rem auto; padding: 0 1rem 2rem; }
    .cart-tab-item-img  { width: 60px; height: 60px; }
}
